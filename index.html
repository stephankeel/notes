<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Notes-Application</title>
    <link id="style" rel="stylesheet" href="standard.css">
    <script id="noteTemplate" type="text/x-handlebars-template">
        <div id="tableScroll">
            <table id="notesTable">
                {{#each this}}
                <tr class="noteRow">
                    <td class="dueDateCell">
                        <p class="dueDateP">{{"myDateFormatter" dueDate "de-DE"}}</p>
                        <div class="dueDateDiv">
                            <input class="dueDateCB" type="checkbox" name="dueDate" value="completed" disabled {{#if
                                   completed}} checked{{/if}}>completed {{#if completed}}[{{"myDateFormatter"
                            completionDate "de-DE"}}]{{/if}}</input>
                        </div>
                    </td>
                    <td class="titleDetailsAndPrioCell">
                        <div class="titleAndPrio">
                            <p class="noteTitle">{{title}}</p>
                            <p class="notePrio">Prio {{priority}}</p>
                        </div>
                        <textarea class="noteDetails" name="noteDetails" readonly rows="2">{{details}}</textarea>
                    </td>
                    <td class="editDeleteCell" id="editDeleteCell{{id}}">
                        <input class="editDeleteButton" id="editButton{{id}}" type="button" value="Edit"
                               onclick="editNote({{id}})">
                        <input class="editDeleteButton" type="button" value="Delete" onclick="deleteNote({{id}})">
                    </td>
                </tr>
                {{/each}}
            </table>
        </div>
    </script>
</head>

<body>
<header>
    <h1 id="mainTitle">Notes - Overview</h1>
    <select id="styleSelection" title="CSS Selection"
            onchange="selectCSS('style', this.options[this.selectedIndex].value)">
        <option value="standard.css">standard</option>
        <option value="highcontrast.css">high contrast</option>
    </select>
</header>

<div id="mainSection">
    <div id="mainContent">
        <div id="buttonSection">
            <input type="button" id="createButton" value="New" onclick="createNote()">
            <div id="sortingSection">
                <input type="button" class="filterButton" id="orderByCompletionDateButton" value="By Completed Date"
                       onclick="orderByCompletionDate()">
                <input type="button" class="filterButton" id="orderByDueDateButton" value="By Due Date"
                       onclick="orderByDueDate()">
                <input type="button" class="filterButton" id="orderByPriorityButton" value="By Priority"
                       onclick="orderByImportance()">
            </div>
            <select id="notesSelection" title="Notes Filter"
                    onchange="filterNotes(this.options[this.selectedIndex].value)">
                <option value="all notes">show all</option>
                <option value="complete notes">show completed</option>
                <option value="open notes">show open</option>
            </select>
        </div>

        <div id="notesSection"></div> <!-- notes table will be added here using handlebars -->
        <p class="logArea"></p>
    </div>
</div>

<div id="editSection">
    <form id="editForm" name="editForm" title="Edit Form" action="javascript:saveEditResult()">
        <div class="gridRow">
            <p class="gridLabel">Title</p>
            <input class="gridValue myInput" id="title" type="text" name="title"><br>
        </div>
        <div class="gridRow">
            <p class="gridLabel">Details</p>
            <textarea class="gridValue myInput" id="details" name="details" rows="4"></textarea><br>
        </div>
        <div class="gridRow">
            <p class="gridLabel">Priority</p>
            <div class="gridValueA" id="priorityGroup">
                <input id="priority1" type="radio" name="proprity" title="Lowest Priority" value="1">
                <input id="priority2" type="radio" name="proprity" title="Low Priority" value="2">
                <input id="priority3" type="radio" name="proprity" title="Medium Priority" value="3">
                <input id="priority4" type="radio" name="proprity" title="High Priority" value="4">
                <input id="priority5" type="radio" name="proprity" title="Highest Priority" value="5">
            </div>
            <p class="gridValueB" id="selectedPriority"></p>
        </div>
        <div class="gridRow">
            <p class="gridLabel">Due Date</p>
            <div class="gridValue" id="divDate">
                <input class="myInput" id="dueDate" type="date" name="dueDate"><br>
            </div>
        </div>
        <input class="formButton" id="saveButton" type="submit" value="Save">
        <input class="formButton" id="cancelButton" type="button" value="Cancel" onclick="cancelEdit()">
        <p class="logArea"></p>
    </form>
</div>

<footer>&copy; 2016 Stephan Keel</footer>
<script src="https://code.jquery.com/jquery-3.1.0.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.15.1/moment.min.js"></script>
<script src="note.js"></script>
<script src="notesmodel.js"></script>
<script src="noterenderer.js"></script>
<script src="noteutils.js"></script>
</body>
</html>
